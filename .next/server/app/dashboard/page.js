(()=>{var e={};e.id=702,e.ids=[702],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},41790:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page-experimental.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},22729:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>x,routeModule:()=>h,tree:()=>c});var t=r(73137),a=r(54647),n=r(4183),i=r.n(n),o=r(71775),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let d=t.AppPageRouteModule,c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,68156)),"C:\\Users\\ayoub\\OneDrive\\Documents\\GitHub\\Dermand_solution\\app\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,74436)),"C:\\Users\\ayoub\\OneDrive\\Documents\\GitHub\\Dermand_solution\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,79958)),"C:\\Users\\ayoub\\OneDrive\\Documents\\GitHub\\Dermand_solution\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,51918,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\Users\\ayoub\\OneDrive\\Documents\\GitHub\\Dermand_solution\\app\\dashboard\\page.tsx"],u="/dashboard/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new d({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},33861:(e,s,r)=>{Promise.resolve().then(r.bind(r,32717))},99473:(e,s,r)=>{Promise.resolve().then(r.bind(r,8381))},32717:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var t=r(60080),a=r(71072),n=r(11440),i=r.n(n),o=r(57114),l=r(96995),d=r(39546),c=r(91672),x=r(44175),u=r(66908),m=r(5987),h=r(68384),p=r(96254);let f=[{name:"Dashboard",href:"/dashboard",icon:l.Z},{name:"Devis",href:"/dashboard/quotes",icon:d.Z},{name:"Clients",href:"/dashboard/clients",icon:c.Z},{name:"Produits",href:"/dashboard/products",icon:x.Z},{name:"Factures",href:"/dashboard/invoices",icon:u.Z},{name:"Param\xe8tres",href:"/dashboard/settings",icon:m.Z}];function j(){let e=(0,o.usePathname)(),s=async()=>{await p.O.auth.signOut(),window.location.href="/login"};return t.jsx("div",{className:"hidden w-64 border-r bg-background md:block",children:(0,t.jsxs)("div",{className:"flex h-full flex-col",children:[t.jsx("div",{className:"flex h-16 items-center border-b px-6",children:t.jsx("h1",{className:"text-xl font-semibold",children:"Dermand Solution"})}),t.jsx("nav",{className:"flex-1 space-y-1 overflow-y-auto p-4",children:f.map(s=>t.jsx(i(),{href:s.href,children:(0,t.jsxs)(h.z,{variant:e===s.href?"secondary":"ghost",className:"w-full justify-start",children:[t.jsx(s.icon,{className:"mr-2 h-4 w-4"}),s.name]})},s.name))}),t.jsx("div",{className:"border-t p-4",children:(0,t.jsxs)(h.z,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive",onClick:s,children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2 h-4 w-4",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),"D\xe9connexion"]})})]})})}var v=r(74964);function b({children:e}){return(0,t.jsxs)(a.ThemeProvider,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:[(0,t.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[t.jsx(j,{}),t.jsx("main",{className:"flex-1 overflow-y-auto bg-background",children:e})]}),t.jsx(v.x,{})]})}},8381:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>N});var t=r(60080),a=r(9885),n=r(23161);let i=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let o=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...s},r)=>t.jsx("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...s},r)=>t.jsx("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent";let x=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s}));x.displayName="CardFooter";var u=r(49457),m=r(96254),h=r(63647),p=r(74966),f=r(24300),j=r(35522),v=r(14839),b=r(54206),g=r(57038);let w=[{name:"Jan",value:400},{name:"F\xe9v",value:300},{name:"Mar",value:600},{name:"Avr",value:800},{name:"Mai",value:500},{name:"Jun",value:900},{name:"Jul",value:1e3}];function y(){return t.jsx("div",{className:"h-[300px]",children:t.jsx(h.h,{width:"100%",height:"100%",children:(0,t.jsxs)(p.v,{data:w,children:[t.jsx(f.q,{strokeDasharray:"3 3"}),t.jsx(j.K,{dataKey:"name"}),t.jsx(v.B,{}),t.jsx(b.u,{}),t.jsx(g.$,{dataKey:"value",fill:"#8884d8"})]})})})}function N(){let{data:e}=(0,u.useQuery)({queryKey:["dashboard-stats"],queryFn:async()=>{let{data:e}=await m.O.rpc("get_dashboard_stats");return e}}),{data:s}=(0,u.useQuery)({queryKey:["recent-quotes"],queryFn:async()=>{let{data:e}=await m.O.from("quotes").select("*").order("created_at",{ascending:!1}).limit(5);return e}});return(0,t.jsxs)("div",{className:"p-6",children:[t.jsx("h1",{className:"mb-6 text-3xl font-bold",children:"Tableau de bord"}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(i,{children:[(0,t.jsxs)(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Devis ce mois-ci"}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 text-muted-foreground",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})]}),t.jsx(c,{children:t.jsx("div",{className:"text-2xl font-bold",children:e?.quotes_this_month||0})})]}),(0,t.jsxs)(i,{children:[(0,t.jsxs)(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Clients actifs"}),(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 text-muted-foreground",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})]}),t.jsx(c,{children:t.jsx("div",{className:"text-2xl font-bold",children:e?.active_clients||0})})]}),(0,t.jsxs)(i,{children:[(0,t.jsxs)(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Chiffre d'affaires"}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 text-muted-foreground",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})]}),t.jsx(c,{children:(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[(e?.revenue||0).toLocaleString("fr-FR")," DH"]})})]}),(0,t.jsxs)(i,{children:[(0,t.jsxs)(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l,{className:"text-sm font-medium",children:"Taux de conversion"}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 text-muted-foreground",children:t.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})]}),t.jsx(c,{children:(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[e?.conversion_rate||0,"%"]})})]})]}),(0,t.jsxs)("div",{className:"mt-6 grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(i,{className:"col-span-1",children:[t.jsx(o,{children:t.jsx(l,{children:"Activit\xe9 r\xe9cente"})}),t.jsx(c,{children:t.jsx(y,{})})]}),(0,t.jsxs)(i,{className:"col-span-1",children:[t.jsx(o,{children:t.jsx(l,{children:"Derniers devis"})}),t.jsx(c,{children:s?.map(e=>t.jsx("div",{className:"mb-4 border-b pb-4 last:mb-0 last:border-b-0 last:pb-0",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:e.client_name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(e.created_at).toLocaleDateString("fr-FR")})]}),t.jsxs("div",{className:"font-bold",children:[e.total_amount.toLocaleString("fr-FR")," DH"]})]})},e.id))})]})]})]})}},74436:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var t=r(17536);let a=(0,t.createProxy)(String.raw`C:\Users\ayoub\OneDrive\Documents\GitHub\Dermand_solution\app\dashboard\layout.tsx`),{__esModule:n,$$typeof:i}=a,o=a.default,l=o},68156:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var t=r(17536);let a=(0,t.createProxy)(String.raw`C:\Users\ayoub\OneDrive\Documents\GitHub\Dermand_solution\app\dashboard\page.tsx`),{__esModule:n,$$typeof:i}=a,o=a.default,l=o}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[148,98,730,457,803,540,410,907,384,491],()=>r(22729));module.exports=t})();